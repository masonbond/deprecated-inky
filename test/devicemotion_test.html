<html>
<head>
<style>
* {
	margin: 0;
	padding: 0;
}

body {
	background: #333;
	color: #ddd;
	font-family: monospace;
	font-size: 32pt !important;
}

.test {
	background: #222;
	color: #ddd;
	white-space: pre-line;
	position: relative;
	width: 100%;
	min-height: 8em;
}
</style>
<script src="../src/utils.js"></script>
<script src="../src/inky.js"></script>
</head>
<body>
<div id="test0" class="test"></div>
<div id="test1" class="test"></div>
<div id="test2" class="test"></div>
<div id="test3" class="test"></div>

<script>

var test0 = document.getElementById('test0'),
	test1 = document.getElementById('test1'),
	test2 = document.getElementById('test2'),
	test3 = document.getElementById('test3');

var testElements = {
	'Gravity': test0,
	'Acceleration': test1,
	'Orientation': test2,
	'Velocity': test3
};

function moveDump(e) {
	var componentSplit = e.component.split(' '),
		axis = componentSplit.pop(),
		type = componentSplit.pop();

	switch (axis) {
		case 'X':
			e.target.x = e.move.v;
			break;
		case 'Y':
			e.target.y = e.move.v;
			break;
		case 'Z':
			e.target.z = e.move.v;
			break;
		case 'Magnitude':
			e.target.m = e.move.v;
			break;	
	}

	testElements[type].innerHTML = type + ": " + JSON.stringify(e.target, null, 4);
}

var motionDispatcher = new IN.Dispatcher();

var motionControl = new IN.Control({
	move: moveDump
});

var gravityBinding = motionDispatcher.bind({
	control: motionControl,
	component: [IN.MOTION_ACCELERATION_WITH_GRAVITY_X, IN.MOTION_ACCELERATION_WITH_GRAVITY_Y, IN.MOTION_ACCELERATION_WITH_GRAVITY_Z, IN.MOTION_ACCELERATION_WITH_GRAVITY_MAGNITUDE],
	target: { x: 0, y: 0, z: 0, m: 0 }
});

var orientationBinding = motionDispatcher.bind({
	control: motionControl,
	component: [IN.MOTION_ORIENTATION_X, IN.MOTION_ORIENTATION_Y, IN.MOTION_ORIENTATION_Z, IN.MOTION_ORIENTATION_MAGNITUDE],
	target: { x: 0, y: 0, z: 0, m: 0 }
});

var accelerationBinding = motionDispatcher.bind({
	control: motionControl,
	component: [IN.MOTION_ACCELERATION_X, IN.MOTION_ACCELERATION_Y, IN.MOTION_ACCELERATION_Z, IN.MOTION_ACCELERATION_MAGNITUDE],
	target: { x: 0, y: 0, z: 0, m: 0 }
});//*/

</script>
</body>
</html>